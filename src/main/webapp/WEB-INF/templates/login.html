<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<title>Ingreso</title>
<link rel="icon" th:href="@{/images/logo.ico}" type="image/ico" />
<link rel="stylesheet"
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
<link rel="canonical"
	href="https://getbootstrap.com/docs/4.0/examples/sticky-footer-navbar/">
<link href="src/main/webapp/WEB-INF/dist/css/bootstrap.min.css"
	rel="stylesheet">
<link href="sticky-footer-navbar.css" rel="stylesheet">
</head>
<body style="background-color: #117733;">
	<header>
		<!-- Barra de navegacion -->
		<nav th:replace="fragmentos/header_loader"></nav>
	</header>
	<form>
		<input type="text" id="producto" name="producto" /> <input
			type="submit" value="Busqueda" />
	</form>
	<div class="container my-5">
		<h1>Ingresa</h1>
		<div class="card">
			<div class="card-body">
				<p th:if="${exception}" class="error">Wrong user or password</p>
				<form action="#" th:action="@{/login}" method="post" id="login">
					<div class="row">
						<br />
						<div class="form-group col-md-8">
							<h2>Datos de Ingreso</h2>
						</div>
						<br /> <br /> <br />
						<div class="form-group col-md-6">
							<label for="username">Nombre de Usuario</label>: <input
								type="text" id="username" name="username" placeholder="Nick"
        					 required pattern="[A-Za-z0-9]{4,40}"
        					 title="Letras y numeros. Tamanio minimo: 4. Tamanio maximo: 40"/> <br />
						</div>
						<div class="form-group col-md-6">
							<label for="password">Contrase&ntilde;a</label>: <input
								type="password" id="password" name="password" placeholder="Password"
         						required pattern="[A-Za-z0-9]{5,40}"
        						 title="Letras y numeros. Tamanio minimo: 5. Tamanio maximo: 40"/> <br />
						</div>
						<div class="col-md-8">
							<input type="submit" value="Ingresar" />
						</div>
						<script type="text/javascript">
								$('#login').submit(function(evento) {
									$.ajax({
										url : 'login',
										type : 'POST',
										data : JSON.stringify({
											nombreCategoria : $('#username').val(),
											descripcionCategoria : $('#password').val()
										}),
										processData : false,
										contentType : "application/json"
									})
									evento.preventDefault();
								});
							</script>
						<div class="form-group col-md-8"></div>
					</div>
				</form>
				<div th:if="${param.error}" class="alert-danger" role="alert">
					Campos invalidos</div>
			</div>
		</div>
	</div>
</body>
</html>

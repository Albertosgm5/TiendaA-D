<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<title th:text="#{signup.cabecera}"></title>
<link rel="icon" th:href="@{/images/logo.ico}" type="image/ico" />
<link rel="stylesheet"
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
<link rel="canonical"
	href="https://getbootstrap.com/docs/4.0/examples/sticky-footer-navbar/">
<link href="src/main/webapp/WEB-INF/dist/css/bootstrap.min.css"
	rel="stylesheet">
<link href="sticky-footer-navbar.css" rel="stylesheet">
</head>
<body style="background-color: #117733;">
	<header>
		<!-- Barra de navegacion -->
		<nav th:replace="fragmentos/header_loader"></nav>
	</header>
	<form>
		<input type="text" id="producto" name="producto" /> <input
			type="submit" value="Busqueda" />
	</form>
	<div class="container my-5">
		<h1 th:text="#{signup.titulo}"></h1>
		<div class="card">
			<div class="card-body">
				<p th:if="${exception}" class="error">Wrong user or password</p>
				<form action="#" th:action="@{/signup}" method="post" id="signup">
					<div class="row">
						<br />
						<div class="form-group col-md-8">
							<h2 th:text="#{signup.datosPersonales}"></h2>
						</div>
						<br /> <br /> <br />
						<div class="form-group col-md-6">
							<label for="username" th:text="#{signup.username}"></label>: <input type="text"
								id="username" name="username" placeholder="Nick" required
								pattern="[A-Za-z0-9]{4,40}"
								title="Letras y numeros. Tamanio minimo: 4. Tamanio maximo: 40" />
							<br />
						</div>
						<div class="form-group col-md-6">
							<label for="password" th:text="#{signup.password}"></label>: <input type="text"
								id="password" name="password" placeholder="Password" required
								pattern="[A-Za-z0-9]{5,40}"
								title="Letras y números. Tamaño mínimo: 5. Tamaño máximo: 40" />
							<br />
						</div>
						<div class="form-group col-md-6">
							<label for="nombre" th:text="#{signup.nombre}"></label>: <input type="text"
								id="nombre" name="nombre" placeholder="Nombre" required
								pattern="[A-Za-z]{3,40}"
								title="Solo letras. Tamanio minimo: 3. Tamanio maximo: 40" /> <br />
						</div>
						<div class="form-group col-md-6">
							<label for="apellidos" th:text="#{signup.apellidos}"></label>: <input type="text"
								id="apellidos" name="apellidos" placeholder="Apellidos" 
								required pattern="[A-Za-z]+[ ]+[A-Za-z]{6,80}"
								title="Solo letras y un espacio entre los dos apellidos. Tamanio minimo: 6. Tamanio maximo: 80" /> <br />
						</div>
						<div class="form-group col-md-6">
							<label for="email" th:text="#{signup.email}"></label>: <input type="text" id="email"
								name="email"
								pattern="[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)*@[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)*[.][a-zA-Z]{1,5}" />
							<br />
						</div>
						<div class="form-group col-md-6">
							<label for="fechaNa" th:text="#{signup.fecha}"></label>: <input
								type="date" id="fechaNa" name="fechaNa" /> <br />
						</div>
						<div class="form-group col-md-6">
							<label for="direccion" th:text="#{signup.direccionEnvio}"></label>: <input
								type="text" id="direccionEnvio" name="direccionEnvio" />
							<br />
						</div>
						<br /> <br /> <br /> <br />
						<div class="form-group col-md-8">
							<h2 th:text="#{signup.datosPago}"></h2>
						</div>
						<br /> <br /> <br />
						<div class="form-group col-md-6">
							<label for="banco" th:text="#{signup.banco}"></label>: <input type="text" id="banco"
								name="banco" placeholder="Banco" required
								pattern="[A-Za-z]{4,40}"
								title="Solo letras. Tamanio minimo: 4. Tamanio maximo: 40" /> <br />
						</div>
						<div class="form-group col-md-6">
							<label for="numTarjeta" th:text="#{signup.tarjeta}"></label>: <input
								type="number" id="numTarjeta" name="numTarjeta"
								placeholder="Numero Tarjeta" required pattern="[0-9]{16}"
								title="Solo numeros.Tamanio exijido: 16." /> <br />
						</div>
						<div class="form-group col-md-6">
							<label for="titular" th:text="#{signup.titular}"></label>: <input type="text"
								id="titular" name="titular" placeholder="titular" required
								pattern="[A-Za-z]{3,40}"
								title="Solo letras. Tamanio minimo: 3. Tamanio maximo: 40" /> <br />
						</div>
						<div class="form-group col-md-6">
							<label for="codigoS" th:text="#{signup.codigo}"></label>: <input
								type="number" id="codigoS" name="codigoS" placeholder="Codigo"
								required pattern="[0-9]{3}"
								title="Solo numeros.Tamanio minimo: 3." /> <br />
						</div>
						<div class="form-group col-md-6">
							<label for="direccionFa" th:text="#{signup.direccionFa}"></label>: <input
								type="text" id="direccionFa" name="direccionFa" />
							<br />
						</div>
						<div class="col-md-8">
							<input type="submit" th:value="#{signup.registrar}" />
						</div>
						<script type="text/javascript">
							$('#signup').submit(function(evento) {
								$.ajax({
									url : 'signup',
									type : 'POST',
									data : JSON.stringify({
										username : $('#username').val(),
										password : $('#password').val(),
										nombre : $('#nombre').val(),
										apellidos : $('#apellidos').val(),
										email : $('#email').val(),
										fechaNa : $('#fechaNa').val(),
										direccion : $('#direccion').val(),
										banco : $('#banco').val(),
										numTarjeta : $('#numTarjeta').val(),
										titular : $('#titular').val(),
										codigoS : $('#codigoS').val(),
										direccionFa : $('#direccionFa').val()
									}),
									processData : false,
									contentType : "application/json"
								})
								evento.preventDefault();
							});
						</script>
						<div class="form-group col-md-8"></div>
					</div>
				</form>
			</div>
		</div>
	</div>
</body>
</html>